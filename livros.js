// livros.js â€“ Biblioteca EpignÃ³sis

const livros = [
  {
    titulo: "Namoro Para Vida Toda",
    descricao: "ğŸ“– Autor: Martinho S. S. Madureira ğŸ“… EdiÃ§Ã£o: 2023 ğŸ’ Namoro bem-sucedido Ã© a base para um casamento prÃ³spero! O que Deus pensa sobre o namoro? Como construir um relacionamento sÃ³lido e abenÃ§oado? Quais princÃ­pios bÃ­blicos podem guiar um casal rumo a um futuro duradouro? Em Namoro Para a Vida Toda, Martinho S. S. Madureira apresenta uma abordagem cristÃ£ profunda e prÃ¡tica sobre o namoro, explorando temas como: âœ… O propÃ³sito divino para o relacionamento âœ… PrincÃ­pios bÃ­blicos para um namoro saudÃ¡vel âœ… DoenÃ§as que podem destruir um namoro âœ… Responsabilidades do casal âœ… Espiritualidade no relacionamento âœ… Conselhos prÃ¡ticos para evitar armadilhas. Com uma linguagem acessÃ­vel e fundamentada na Palavra de Deus, este livro Ã© um guia essencial para jovens cristÃ£os que desejam construir um namoro sÃ³lido, baseado no amor, respeito e santidade. ğŸ“© Adquira agora e transforme sua visÃ£o sobre o namoro! Para mais informaÃ§Ãµes, entre em contato: ğŸ“§ martinhomadureiraoficial@gmail.com ğŸ“ 927791547",
    categoria: "Relacionamento",
    linkCompra: "https://pay.kuenha.com/fc181391-9c9e-44ea-a04c-196b8fad08be",
    linkAmostra: "https://drive.google.com/file/d/16bgI3exmud-AS_3ETpvHnZDezFQn-C-8/view?usp=drive_link",
    imagem: "assets/img/ebooknamoro.jpg"
  },
  {
    titulo: "As Janelas do CÃ©u",
    descricao: "ğŸ“– Autor: Martinho S. S. Madureira ğŸ“… EdiÃ§Ã£o: 2023ğŸŒ¿ Descubra os segredos da provisÃ£o divina! O que significa ter as -Janelas do CÃ©u- abertas sobre a sua vida? Como experimentar a abundÃ¢ncia e a provisÃ£o de Deus? Neste livro, Martinho S. S. Madureira explora profundamente o conceito bÃ­blico das Janelas do CÃ©u, revelando verdades espirituais que transformam vidas. Com base em Malaquias 3:10 e outras passagens bÃ­blicas, vocÃª aprenderÃ¡: âœ… O significado espiritual das Janelas do CÃ©u âœ… Como Deus manifesta provisÃ£o em diversas Ã¡reas da vida âœ… A relaÃ§Ã£o entre fÃ©, obediÃªncia e bÃªnÃ§Ã£os materiais âœ… PrincÃ­pios bÃ­blicos sobre dÃ­zimos, ofertas e semeadura âœ… Como abrir e fechar as Janelas do CÃ©u em sua vida. Com uma abordagem clara e fundamentada na Palavra de Deus, este livro Ã© um guia essencial para quem deseja viver sob a provisÃ£o divina e experimentar a fidelidade do Senhor em todas as Ã¡reas. ğŸ“© Adquira agora e descubra como viver na abundÃ¢ncia de Deus! Para mais informaÃ§Ãµes, entre em contato: ğŸ“§ martinhomadureiraoficial@gmail.com ğŸ“ 927791547",
    categoria: "FinanÃ§as, Prosperidade",
    linkCompra: "https://pay.kuenha.com/1d921f2f-4ed1-47d7-b84e-06c7745f432a",
    linkAmostra: "https://drive.google.com/file/d/1LxhewHoMVZorIh3fNwG-keLxL2gjCf1w/view?usp=drive_link",
    imagem: "assets/img/ebookjanelas.png"
  },
  {
    titulo: "Nova CriaÃ§Ã£o: Quem eu sou em Cristo e o que isso Muda para Sempre",
    descricao: "Nova CriaÃ§Ã£o: Quem Eu Sou em Cristo e o Que Isso Muda Para Sempre Autor: Martinho S. S. Madureira EdiÃ§Ã£o: 2025 O que significa ser uma nova criaÃ§Ã£o em Cristo? Como essa transformaÃ§Ã£o afeta nossa identidade, nossa vida e nosso propÃ³sito? Neste livro, Martinho S. S. Madureira explora profundamente a doutrina da regeneraÃ§Ã£o, revelando como a obra de Cristo nos recria completamente e nos dÃ¡ uma nova identidade. Com base na Palavra de Deus, vocÃª aprenderÃ¡: O significado da nova criaÃ§Ã£o e sua diferenÃ§a da velha natureza Como fomos identificados com Cristo em Sua morte e ressurreiÃ§Ã£o. A realidade da justificaÃ§Ã£o e da paz com Deus, O impacto da adoÃ§Ã£o como filhos e co-herdeiros com Cristo, A renovaÃ§Ã£o da mente e sua influÃªncia na vida cristÃ£, A autoridade no nome de Jesus e seu papel na caminhada espiritual,O chamado para viver como embaixadores do Reino de Deus. Este livro nÃ£o apenas apresenta fundamentos teolÃ³gicos, mas convida o leitor a experimentar a realidade da nova criaÃ§Ã£o em todas as Ã¡reas da vida. AtravÃ©s de uma abordagem clara e fundamentada na Escritura, Nova CriaÃ§Ã£o Ã© um guia essencial para quem deseja viver plenamente a identidade que recebeu em Cristo. Adquira agora e descubra o que significa ser uma nova criatura em Cristo! Para mais informaÃ§Ãµes, entre em contato: E-mail: martinhomadureiraoficial@gmail.com Telefone: 927791547",
    categoria: "FÃ©, Identidade",
    linkCompra: "https://pay.kuenha.com/5b5bd35c-e44f-487d-bc25-349bc5bf1388",
    linkAmostra: "https://drive.google.com/file/d/1VDbTA6rRTjqfNWuUXEDP8oyE_9GL-ZQI/view?usp=drive_link",
    imagem: "assets/img/ebooknovacriacao.png"
  }
  
  // Adicione mais livros aqui
];

const livrosContainer = document.getElementById("livrosContainer");
const letrasFiltro = document.getElementById("letrasFiltro");
const searchInput = document.getElementById("searchInput");
const paginacaoContainer = document.getElementById("paginacaoContainer");

const livrosPorPagina = 20;
let paginaAtual = 1;
let filtroAtual = "todos";
let termoBusca = "";

function gerarBotoesFiltro() {
  const letras = [..."ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"];
  letrasFiltro.innerHTML = "<button data-filtro='todos' class='ativo'>Todos</button>";
  letras.forEach(l => {
    const botao = document.createElement("button");
    botao.textContent = l;
    botao.setAttribute("data-filtro", l);
    letrasFiltro.appendChild(botao);
  });
}

function aplicarFiltros() {
  let resultados = livros.filter(l =>
    (filtroAtual === "todos" || l.titulo.toUpperCase().startsWith(filtroAtual)) &&
    l.titulo.toLowerCase().includes(termoBusca.toLowerCase())
  );

  const totalPaginas = Math.ceil(resultados.length / livrosPorPagina);
  if (paginaAtual > totalPaginas) paginaAtual = 1;
  const inicio = (paginaAtual - 1) * livrosPorPagina;
  const paginaLivros = resultados.slice(inicio, inicio + livrosPorPagina);

  renderizarLivros(paginaLivros);
  renderizarPaginacao(totalPaginas);
}

function renderizarLivros(lista) {
  livrosContainer.innerHTML = "";
  lista.forEach(livro => {
    const card = document.createElement("div");
    card.className = "card-livro";
    card.innerHTML = `
      <h3>${livro.titulo}</h3>
      <p>${livro.descricao}</p>
      <a href="${livro.link}" class="btn-comprar" target="_blank">Comprar</a>
    `;
    livrosContainer.appendChild(card);
  });
}

function renderizarPaginacao(total) {
  paginacaoContainer.innerHTML = "";
  for (let i = 1; i <= total; i++) {
    const btn = document.createElement("button");
    btn.textContent = i;
    btn.className = i === paginaAtual ? "ativo" : "";
    btn.addEventListener("click", () => {
      paginaAtual = i;
      aplicarFiltros();
    });
    paginacaoContainer.appendChild(btn);
  }
}

letrasFiltro.addEventListener("click", e => {
  if (e.target.tagName === "BUTTON") {
    filtroAtual = e.target.dataset.filtro;
    paginaAtual = 1;
    document.querySelectorAll(".letras-filtro button").forEach(btn => btn.classList.remove("ativo"));
    e.target.classList.add("ativo");
    aplicarFiltros();
  }
});

searchInput.addEventListener("input", e => {
  termoBusca = e.target.value;
  paginaAtual = 1;
  aplicarFiltros();
});

// InicializaÃ§Ã£o
gerarBotoesFiltro();
aplicarFiltros();
